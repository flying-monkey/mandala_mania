{"version":3,"sources":["webpack:///webpack/bootstrap 1fe9a63120914e73ad65","webpack:///./lib/mandala_mania.js","webpack:///./lib/draw_pad.js"],"names":["document","addEventListener","canvas","getElementById","init","audio","DrawPad","canvas_width","width","canvas_height","height","stroke","colors","MouseDown","bind","MouseUp","MouseMove","getPos","reset","change","onclick","oninput","stage","createjs","Stage","index","axes","clickCount","color","Touch","enable","setTransform","scaleY","enableDOMEvents","drawArea","Shape","addChild","update","clear","removeChildAt","children","length","value","event","currentTarget","console","log","e","rectangle","getBoundingClientRect","x","mouseX","y","mouseY","primary","oldPt","Point","oldMidPt","clone","i","rotate","x1","y1","graphics","setStrokeStyle","beginStroke","beginFill","drawCircle","window","midPt","x2","y2","x3","y3","moveTo","curveTo","removeEventListener","Math","cos","PI","sin"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;;;;;;AAEAA,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,MAAMC,SAASF,SAASG,cAAT,CAAwB,QAAxB,CAAf;;AAEA,yBAAYD,MAAZ,EAAoBE,IAApB;AACA,MAAMC,QAAQL,SAASG,cAAT,CAAwB,iBAAxB,CAAd;AACA;AACD,CAND,E;;;;;;;;;;;;;;;;;ICDMG,O;AACJ,mBAAYJ,MAAZ,EAAoB;AAAA;;AAClB,SAAKA,MAAL,GAAcA,MAAd;AACA;AACA,SAAKK,YAAL,GAAoBL,OAAOM,KAA3B;AACA,SAAKC,aAAL,GAAqBP,OAAOQ,MAA5B;AACA,SAAKC,MAAL,GAAc,EAAd;;AAEA,SAAKC,MAAL,GAAc,CACZ,SADY,EAEZ,SAFY,EAGZ,SAHY,EAIZ,SAJY,EAKZ,SALY,EAMZ,SANY,EAOZ,SAPY,EAQZ,SARY,EASZ,SATY,EAUZ,SAVY,EAWZ,SAXY,EAYZ,SAZY,EAaZ,SAbY,EAcZ,SAdY,EAeZ,SAfY,CAAd;AAiBA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKE,SAAL,GAAiB,KAAKA,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKV,IAAL,GAAY,KAAKA,IAAL,CAAUU,IAAV,CAAe,IAAf,CAAZ;AACA,SAAKG,MAAL,GAAc,KAAKA,MAAL,CAAYH,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKI,KAAL,GAAa,KAAKA,KAAL,CAAWJ,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKK,MAAL,GAAc,KAAKA,MAAL,CAAYL,IAAZ,CAAiB,IAAjB,CAAd;AACAd,aAASG,cAAT,CAAwB,OAAxB,EAAiCiB,OAAjC,GAA2C,KAAKF,KAAhD;AACAlB,aAASG,cAAT,CAAwB,cAAxB,EAAwCkB,OAAxC,GAAkD,KAAKF,MAAL,CAAY,QAAZ,CAAlD;AACAnB,aAASG,cAAT,CAAwB,MAAxB,EAAgCkB,OAAhC,GAA0C,KAAKF,MAAL,CAAY,MAAZ,CAA1C;AACAnB,aAASG,cAAT,CAAwB,OAAxB,EAAiCkB,OAAjC,GAA2C,KAAKF,MAAL,CAAY,OAAZ,CAA3C;AACD;;;;2BAEM;AACL,WAAKG,KAAL,GAAa,IAAIC,SAASC,KAAb,CAAmB,QAAnB,CAAb;AACA;AACA,WAAKC,KAAL,GAAa,CAAb;AACA,WAAKC,IAAL,GAAY,EAAZ;AACA,WAAKC,UAAL,GAAkB,CAAlB;AACA;AACA,WAAKC,KAAL,GAAa,SAAb;AACAL,eAASM,KAAT,CAAeC,MAAf,CAAsB,KAAKR,KAA3B;AACA;AACA,WAAKA,KAAL,CAAWS,YAAX,CAAwB,KAAK7B,MAAL,CAAYM,KAAZ,GAAoB,CAA5C,EAA+C,KAAKN,MAAL,CAAYQ,MAAZ,GAAqB,CAApE;AACA,WAAKY,KAAL,CAAWU,MAAX,GAAoB,CAAC,CAArB;AACA,WAAKV,KAAL,CAAWW,eAAX,CAA2B,IAA3B;AACA;AACA;AACA,WAAKC,QAAL,GAAgB,IAAIX,SAASY,KAAb,EAAhB;;AAEA,WAAKb,KAAL,CAAWrB,gBAAX,CAA4B,gBAA5B,EAA8C,KAAKY,SAAnD;AACA;AACA,WAAKS,KAAL,CAAWrB,gBAAX,CAA4B,cAA5B,EAA4C,KAAKc,OAAjD;;AAEA,WAAKO,KAAL,CAAWc,QAAX,CAAoB,KAAKF,QAAzB;AACA;AACA,WAAKZ,KAAL,CAAWe,MAAX;AACD;;;4BAEO;AACN,WAAKf,KAAL,CAAWgB,KAAX;AACA,WAAKhB,KAAL,CAAWiB,aAAX,CAAyB,KAAKjB,KAAL,CAAWkB,QAAX,CAAoBC,MAApB,GAA6B,CAAtD;AACA,WAAKP,QAAL,GAAgB,IAAIX,SAASY,KAAb,EAAhB;AACA,WAAKb,KAAL,CAAWc,QAAX,CAAoB,KAAKF,QAAzB;AACA,WAAKZ,KAAL,CAAWe,MAAX;AACD;;;2BAEMK,K,EAAO;AAAA;;AACZ,aAAO,UAACC,KAAD,EAAW;AAChB,cAAKD,KAAL,IAAcC,MAAMC,aAAN,CAAoBF,KAAlC;AACA,YAAIA,UAAU,QAAd,EAAwB;AACtB1C,mBAASG,cAAT,CAAwB,cAAxB,EAAwCuC,KAAxC,GAAgD,MAAK/B,MAArD;AACD,SAFD,MAEO,IAAI+B,UAAU,MAAd,EAAsB;AAC3B1C,mBAASG,cAAT,CAAwB,MAAxB,EAAgCuC,KAAhC,GAAwC,MAAKhB,IAA7C;AACD,SAFM,MAEA,IAAIgB,UAAU,OAAd,EAAuB;AAC5B1C,mBAASG,cAAT,CAAwB,OAAxB,EAAiCuC,KAAjC,GAAyC,MAAKd,KAA9C;AACAiB,kBAAQC,GAAR,CAAY9C,SAASG,cAAT,CAAwB,OAAxB,EAAiCuC,KAA7C;AACD;AACF,OAVD;AAWD;;;2BAGMK,C,EAAG;AACR,UAAMC,YAAY,KAAK9C,MAAL,CAAY+C,qBAAZ,EAAlB;AACA,aAAO;AACLC,WAAG,KAAK5B,KAAL,CAAW6B,MAAX,GAAoB,KAAK5C,YAAL,GAAoB,CADtC;AAEL6C,WAAG,CAAC,KAAK9B,KAAL,CAAW+B,MAAZ,GAAqB,KAAK5C,aAAL,GAAqB;AAFxC,OAAP;AAID;;;8BAESkC,K,EAAO;AACf,UAAI,CAACA,MAAMW,OAAX,EAAoB;AAClB;AACD;;AAHc,oBAKkB,KAAKrC,MAAL,CAAY0B,KAAZ,CALlB;AAAA,UAKJQ,MALI,WAKPD,CALO;AAAA,UAKOG,MALP,WAKID,CALJ;;AAMf,UAAI,KAAKzB,UAAL,KAAoB,KAAKf,MAAL,CAAY6B,MAApC,EAA4C;AAC1C,aAAKd,UAAL,GAAkB,CAAlB;AACD;AACD,WAAKA,UAAL;AACA,UAAI,KAAKC,KAAL,KAAe,KAAKhB,MAAL,CAAY,KAAKe,UAAL,GAAkB,CAA9B,CAAnB,EAAqD;AACnD,aAAKC,KAAL,GAAa,KAAKhB,MAAL,CAAY,KAAKa,KAAL,KAAe,KAAKb,MAAL,CAAY6B,MAAvC,CAAb;AACD;;AAED,WAAKc,KAAL,GAAa,IAAIhC,SAASiC,KAAb,CAAmBL,MAAnB,EAA2BE,MAA3B,CAAb;AACA,WAAKI,QAAL,GAAgB,KAAKF,KAAL,CAAWG,KAAX,EAAhB;;AAEA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKjC,IAAL,GAAY,CAAhC,EAAmCiC,GAAnC,EAAwC;AAAA,sBACb,KAAKC,MAAL,CAAYT,MAAZ,EAAoBE,MAApB,EAA4BM,CAA5B,EAA+B,KAAKjC,IAApC,CADa;AAAA,YAC3BmC,EAD2B,WAC9BX,CAD8B;AAAA,YACpBY,EADoB,WACvBV,CADuB;;AAEtC,aAAKlB,QAAL,CAAc6B,QAAd,CACGC,cADH,CACkB,KAAKrD,MADvB,EAC+B,OAD/B,EACwC,OADxC,EAEGsD,WAFH,CAEe,KAAKrC,KAFpB,EAGGsC,SAHH,CAGa,KAAKtC,KAHlB,EAIGuC,UAJH,CAIcN,EAJd,EAIkBC,EAJlB,EAIsB,KAAKnD,MAAL,IAAe,CAJrC;AAKD;;AAED,WAAKW,KAAL,CAAWrB,gBAAX,CAA4B,gBAA5B,EAA8C,KAAKe,SAAnD;AACA,WAAKM,KAAL,CAAWe,MAAX;AACD;;;8BAESM,K,EAAO;AACf,UAAI,CAACA,MAAMW,OAAX,EAAoB;AAClB;AACD;AACD,UAAM/B,WAAW6C,OAAO7C,QAAxB;;AAJe,qBAKkB,KAAKN,MAAL,CAAY0B,KAAZ,CALlB;AAAA,UAKJQ,MALI,YAKPD,CALO;AAAA,UAKOG,MALP,YAKID,CALJ;;AAMf,WAAKiB,KAAL,GAAa,IAAI9C,SAASiC,KAAb,CAAoB,KAAKD,KAAL,CAAWL,CAAX,GAAeC,MAAhB,IAA2B,CAA9C,EAAkD,KAAKI,KAAL,CAAWH,CAAX,GAAeC,MAAhB,IAA2B,CAA5E,CAAb;;AAEA,WAAKnB,QAAL,CAAc6B,QAAd;AACA;AACA,WAAK,IAAIJ,IAAI,CAAb,EAAgBA,IAAI,KAAKjC,IAAL,GAAY,CAAhC,EAAmCiC,GAAnC,EAAwC;AAAA,uBACb,KAAKC,MAAL,CAAY,KAAKS,KAAL,CAAWnB,CAAvB,EAA0B,KAAKmB,KAAL,CAAWjB,CAArC,EAAwCO,CAAxC,EAA2C,KAAKjC,IAAhD,CADa;AAAA,YAC3BmC,EAD2B,YAC9BX,CAD8B;AAAA,YACpBY,EADoB,YACvBV,CADuB;;AAAA,uBAEb,KAAKQ,MAAL,CAAY,KAAKL,KAAL,CAAWL,CAAvB,EAA0B,KAAKK,KAAL,CAAWH,CAArC,EAAwCO,CAAxC,EAA2C,KAAKjC,IAAhD,CAFa;AAAA,YAE3B4C,EAF2B,YAE9BpB,CAF8B;AAAA,YAEpBqB,EAFoB,YAEvBnB,CAFuB;;AAAA,uBAGb,KAAKQ,MAAL,CAAY,KAAKH,QAAL,CAAcP,CAA1B,EAA6B,KAAKO,QAAL,CAAcL,CAA3C,EAA8CO,CAA9C,EAAiD,KAAKjC,IAAtD,CAHa;AAAA,YAG3B8C,EAH2B,YAG9BtB,CAH8B;AAAA,YAGpBuB,EAHoB,YAGvBrB,CAHuB;;AAItC,aAAKlB,QAAL,CAAc6B,QAAd,CACGC,cADH,CACkB,KAAKrD,MADvB,EAC+B,OAD/B,EACwC,OADxC,EAEGsD,WAFH,CAEe,KAAKrC,KAFpB,EAGG8C,MAHH,CAGUb,EAHV,EAGcC,EAHd,EAIGa,OAJH,CAIWL,EAJX,EAIeC,EAJf,EAImBC,EAJnB,EAIuBC,EAJvB;AAKD;;AAED,WAAKlB,KAAL,CAAWL,CAAX,GAAeC,MAAf;AACA,WAAKI,KAAL,CAAWH,CAAX,GAAeC,MAAf;;AAEA,WAAKI,QAAL,CAAcP,CAAd,GAAkB,KAAKmB,KAAL,CAAWnB,CAA7B;AACA,WAAKO,QAAL,CAAcL,CAAd,GAAkB,KAAKiB,KAAL,CAAWjB,CAA7B;;AAEA,WAAK9B,KAAL,CAAWe,MAAX;AACD;;;4BAEOM,K,EAAO;AACb,UAAI,CAACA,MAAMW,OAAX,EAAoB;AAClB;AACD;AACD,WAAKhC,KAAL,CAAWsD,mBAAX,CAA+B,gBAA/B,EAAiD,KAAK5D,SAAtD;AACD;;;2BAEMkC,C,EAAGE,C,EAAGO,C,EAAGjC,I,EAAM;AACpB,aAAO;AACLwB,WAAGA,IAAI2B,KAAKC,GAAL,CAAS,IAAInB,CAAJ,GAAQkB,KAAKE,EAAb,GAAkBrD,IAA3B,CAAJ,GAAuC0B,IAAIyB,KAAKG,GAAL,CAAS,IAAIrB,CAAJ,GAAQkB,KAAKE,EAAb,GAAkBrD,IAA3B,CADzC;AAEL0B,WAAGF,IAAI2B,KAAKG,GAAL,CAAS,IAAIrB,CAAJ,GAAQkB,KAAKE,EAAb,GAAkBrD,IAA3B,CAAJ,GAAuC0B,IAAIyB,KAAKC,GAAL,CAAS,IAAInB,CAAJ,GAAQkB,KAAKE,EAAb,GAAkBrD,IAA3B;AAFzC,OAAP;AAID;;;;;;kBAEYpB,O","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1fe9a63120914e73ad65","import DrawPad from './draw_pad';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.getElementById('canvas');\n\n  new DrawPad(canvas).init();\n  const audio = document.getElementById('meditative-tune');\n  // audio.play();\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/mandala_mania.js","\nclass DrawPad {\n  constructor(canvas) {\n    this.canvas = canvas;\n    // this.context = canvas.getContext('2d');\n    this.canvas_width = canvas.width;\n    this.canvas_height = canvas.height;\n    this.stroke = 10;\n\n    this.colors = [\n      '#69d025',\n      '#ff3311',\n      '#ccbb33',\n      '#12bdb9',\n      '#ff6644',\n      '#442299',\n      '#ff9933',\n      '#ff4422',\n      '#feae2d',\n      '#d0c310',\n      '#4444dd',\n      '#aacc22',\n      '#22ccaa',\n      '#11aabb',\n      '#3311bb',\n    ];\n    this.MouseDown = this.MouseDown.bind(this);\n    this.MouseUp = this.MouseUp.bind(this);\n    this.MouseMove = this.MouseMove.bind(this);\n    this.init = this.init.bind(this);\n    this.getPos = this.getPos.bind(this);\n    this.reset = this.reset.bind(this);\n    this.change = this.change.bind(this);\n    document.getElementById('reset').onclick = this.reset;\n    document.getElementById('pointer-size').oninput = this.change('stroke');\n    document.getElementById('axes').oninput = this.change('axes');\n    document.getElementById('color').oninput = this.change('color');\n  }\n\n  init() {\n    this.stage = new createjs.Stage('canvas');\n    // Create a Shape DisplayObject.\n    this.index = 1;\n    this.axes = 12;\n    this.clickCount = 0;\n    // this.defaultColor = '#ffffff';\n    this.color = '#69d025';\n    createjs.Touch.enable(this.stage);\n    // enable touch on Shape\n    this.stage.setTransform(this.canvas.width / 2, this.canvas.height / 2);\n    this.stage.scaleY = -1;\n    this.stage.enableDOMEvents(true);\n    // enable dom event handlers for the stage\n    // this.stage.Ticker.setFPS(24);\n    this.drawArea = new createjs.Shape();\n\n    this.stage.addEventListener('stagemousedown', this.MouseDown);\n    // Add event listener for the stage\n    this.stage.addEventListener('stagemouseup', this.MouseUp);\n\n    this.stage.addChild(this.drawArea);\n    // Update stage will render next frame\n    this.stage.update();\n  }\n\n  reset() {\n    this.stage.clear();\n    this.stage.removeChildAt(this.stage.children.length - 1);\n    this.drawArea = new createjs.Shape();\n    this.stage.addChild(this.drawArea);\n    this.stage.update();\n  }\n\n  change(value) {\n    return (event) => {\n      this[value] = event.currentTarget.value;\n      if (value === 'stroke') {\n        document.getElementById('pointer-size').value = this.stroke;\n      } else if (value === 'axes') {\n        document.getElementById('axes').value = this.axes;\n      } else if (value === 'color') {\n        document.getElementById('color').value = this.color;\n        console.log(document.getElementById('color').value);\n      }\n    };\n  }\n\n\n  getPos(e) {\n    const rectangle = this.canvas.getBoundingClientRect();\n    return {\n      x: this.stage.mouseX - this.canvas_width / 2,\n      y: -this.stage.mouseY + this.canvas_height / 2,\n    };\n  }\n\n  MouseDown(event) {\n    if (!event.primary) {\n      return;\n    }\n\n    const { x: mouseX, y: mouseY } = this.getPos(event);\n    if (this.clickCount === this.colors.length) {\n      this.clickCount = 0\n    }\n    this.clickCount++;\n    if (this.color === this.colors[this.clickCount - 1]) {\n      this.color = this.colors[this.index++ % this.colors.length];\n    }\n\n    this.oldPt = new createjs.Point(mouseX, mouseY);\n    this.oldMidPt = this.oldPt.clone();\n\n    for (let i = 1; i < this.axes + 1; i++) {\n      const { x: x1, y: y1 } = this.rotate(mouseX, mouseY, i, this.axes);\n      this.drawArea.graphics\n        .setStrokeStyle(this.stroke, 'round', 'round')\n        .beginStroke(this.color)\n        .beginFill(this.color)\n        .drawCircle(x1, y1, this.stroke >> 1);\n    }\n\n    this.stage.addEventListener('stagemousemove', this.MouseMove);\n    this.stage.update();\n  }\n\n  MouseMove(event) {\n    if (!event.primary) {\n      return;\n    }\n    const createjs = window.createjs;\n    const { x: mouseX, y: mouseY } = this.getPos(event);\n    this.midPt = new createjs.Point((this.oldPt.x + mouseX) >> 1, (this.oldPt.y + mouseY) >> 1);\n\n    this.drawArea.graphics;\n    // .clear();\n    for (let i = 1; i < this.axes + 1; i++) {\n      const { x: x1, y: y1 } = this.rotate(this.midPt.x, this.midPt.y, i, this.axes);\n      const { x: x2, y: y2 } = this.rotate(this.oldPt.x, this.oldPt.y, i, this.axes);\n      const { x: x3, y: y3 } = this.rotate(this.oldMidPt.x, this.oldMidPt.y, i, this.axes);\n      this.drawArea.graphics\n        .setStrokeStyle(this.stroke, 'round', 'round')\n        .beginStroke(this.color)\n        .moveTo(x1, y1)\n        .curveTo(x2, y2, x3, y3);\n    }\n\n    this.oldPt.x = mouseX;\n    this.oldPt.y = mouseY;\n\n    this.oldMidPt.x = this.midPt.x;\n    this.oldMidPt.y = this.midPt.y;\n\n    this.stage.update();\n  }\n\n  MouseUp(event) {\n    if (!event.primary) {\n      return;\n    }\n    this.stage.removeEventListener('stagemousemove', this.MouseMove);\n  }\n\n  rotate(x, y, i, axes) {\n    return {\n      x: x * Math.cos(2 * i * Math.PI / axes) - y * Math.sin(2 * i * Math.PI / axes),\n      y: x * Math.sin(2 * i * Math.PI / axes) + y * Math.cos(2 * i * Math.PI / axes),\n    };\n  }\n}\nexport default DrawPad;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/draw_pad.js"],"sourceRoot":""}